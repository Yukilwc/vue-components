import{g as e}from"./tools.39a8eb58.js";import{d as o,m as t,p as a,g as s,o as n,c as l,i as c,k as d,q as r}from"./vendor.11d5ec03.js";const i=o=>new Promise(((t,a)=>{((o,t)=>{window.requestAnimationFrame||(window.requestAnimationFrame=function(e){return setTimeout(e,17),t&&t(),1});let a=document.querySelector(o.selector);if(!a)return void(t&&t());let s=e(a);if(s+=o.offset||0,console.log("==========目标距离顶部的距离:",s),"linear"===o.animate||void 0===o.animate){let e=o.step||2;const a=()=>{let o=document.documentElement.scrollTop;if(Math.abs(o-s)<e)return console.log("==========当前距离目标间距已经小于step"),document.documentElement.scrollTop=s,void(t&&t());s-o>0?document.documentElement.scrollTop+=e:document.documentElement.scrollTop-=e,window.requestAnimationFrame(a)};console.log("==========开始线性动画滚动"),a()}else{let e=o.rate||4;console.log("==========开始缓动动画滚动");const a=2,n=()=>{let o=document.documentElement.scrollTop;if(Math.abs((o-s)/e)<=a){if(console.log("==========当前距离目标间距已经小于step",o),Math.abs(o-s)<=a)return console.log("==========当前距离目标间距已经小于fixedStep",o),document.documentElement.scrollTop=s,void(t&&t());document.documentElement.scrollTop+=a*(s-o>0?1:-1),console.log("==========按fixed单独加算",document.documentElement.scrollTop)}else document.documentElement.scrollTop+=(s-o)/e;window.requestAnimationFrame(n)};n()}})(o,t)}));var m=o({components:{},setup(e,o){t((()=>{}));return{toDom:()=>{return e=this,o=null,t=function*(){console.log("==========开始滚动到指定dom"),yield i({selector:".area-6",animate:"ease",step:45,rate:20,offset:-100}),console.log("==========滚动结束")},new Promise(((a,s)=>{var n=e=>{try{c(t.next(e))}catch(o){s(o)}},l=e=>{try{c(t.throw(e))}catch(o){s(o)}},c=e=>e.done?a(e.value):Promise.resolve(e.value).then(n,l);c((t=t.apply(e,o)).next())}));var e,o,t}}}});const u=d();a("data-v-60299088");const v={class:""},p=r('<div class="c-h1" data-v-60299088>滚动</div><div class="area-1" data-v-60299088>位置1</div><div class="area-2" data-v-60299088>位置2</div><div class="area-3" data-v-60299088>位置3</div><div class="area-4" data-v-60299088>位置4</div><div class="area-5" data-v-60299088>位置5</div><div class="area-6" data-v-60299088>位置6</div><div class="area-7" data-v-60299088>位置7</div>',8);s();const f=u(((e,o,t,a,s,d)=>(n(),l("div",null,[c("div",v,[c("button",{onClick:o[1]||(o[1]=(...o)=>e.toDom&&e.toDom(...o)),class:"test-btn"},"滚动到指定Dom")]),p]))));m.render=f,m.__scopeId="data-v-60299088";export default m;
